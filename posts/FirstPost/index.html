<!doctype html>
<html lang="en">

<head>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" href="/css/PostStyles.css">
    <script src="https://kit.fontawesome.com/c462d93d69.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/Galery.css">
    <meta charset="utf-8">
    <title>My first blog post</title>
</head>

<body>
    <div class="header" onclick="window.location='/'">
        <span class="backArrow"> <i class="fas fa-arrow-left"></i> </span>
        <span class="name">dirigity.github.io/</span>
    </div>

    <div class="card">
        <marginer>
            <h1 style="display: inline-block;">My first blog post</h1>
            <tags>
                Tags:
                
                <tag>web dev</tag>
                
                <tag>11ty</tag>
                
            </tags>
        </marginer>

        <div id="galery"
            style=" height: 15cm; justify-content: center; align-items: center; display: flex; flex-wrap: wrap; flex-direction: column;">
        </div>
        <script>

            function untarget(e) {
                console.log("untarget", document.elementsFromPoint(e.pageX, e.pageY)[0].id.substr(0, 42))
                if (document.elementsFromPoint(e.pageX, e.pageY)[0].id.substr(0, 42) != "ThisIsAnIdThatIsVeryUnlikelyToSeeElsewhere")
                    location.href += "#perfundo-untarget"
            }

            function createGal() {
                let Images = [];
                for (let i = -1; i < Images.length; i++) {
                    console.log("appending photo n " + i)
                    let current = "";
                    if (i != -1) current = Images[i];
                    else current = "/images/EleventyLogo.png";
                    let gal = document.getElementById("galery");

                    let controls = `<a href="#perfundo-untarget" class="gal_close perfundo__control js-perfundo-close enlarge"><i class="far fa-times-circle"></i></a>`;
                    if (i != Images.length - 1) controls += `<a class="gal_next perfundo__control js-perfundo-next enlarge" href="#perfundo-img` + (i + 1) + `"><i class="fas fa-chevron-right"></i></a>`;
                    if (i != -1) controls += `<a class="gal_prev perfundo__control js-perfundo-prev enlarge" href="#perfundo-img` + (i - 1) + `"><i class="fas fa-chevron-left"></i></a>`;

                    let HTMLCode = `
                                        
                                        <div style="display: inline-block; text-align: center; height: 10cm">
                                            <a class="perfundo__link js-perfundo-link" href="#perfundo-img`+ i + `"  style="margin: 10px; display: inline-block">
                                                <img src="`+ current + `" alt="` + current + `" style="height:10cm; width:auto">
                                            </a>
                                                <div id="perfundo-img`+ i + `" class="perfundo__overlay fadeIn js-perfundo-overlay">
                                                    <img id="ThisIsAnIdThatIsVeryUnlikelyToSeeElsewhere` + i + `" style="width: 100%; height: auto;" src="` + current + `" alt="` + current + `">

                                                    
                                                    `+ controls + `

                                                </div> 
                                        </div>
                                        `

                    gal.innerHTML = gal.innerHTML + HTMLCode;


                    
                    // console.log("perfundo-img" + (i-1))
                    // if (i > 1)
                    //     console.log(document.getElementById("perfundo-img" + (i - 1)).onclick.toString())
                    // console.log("perfundo-img" + i, document.getElementById("perfundo-img" + i).onclick.toString())


                    let img = document.getElementById("ThisIsAnIdThatIsVeryUnlikelyToSeeElsewhere" + i)
                    if (img.height / img.width > window.height / window.width) {
                        img.style.width = "90%";
                        img.style.height = "auto"
                    } else {
                        img.style.height = "90%";
                        img.style.width = "auto";
                    }
                    // <div class="perfundo__image" style="width: 800px; padding-top: 66.25%; background-image: url(`+ current + `);"></div>

                }

                for (let i = -1; i < Images.length; i++) {
                    document.getElementById("perfundo-img" + i).onclick = (e) => {
                        console.log("untarget")//, document.elementsFromPoint(e.pageX, e.pageY)[0].id.substr(0, 42))
                        if (document.elementsFromPoint(e.pageX, e.pageY)[0].id.substr(0, 42) != "ThisIsAnIdThatIsVeryUnlikelyToSeeElsewhere")
                    
                        location.href += "#perfundo-untarget"
                    }
                }
            }
            createGal();
        </script>
        <marginer>
            <h2>This is my first post in my blog</h2>
            <p>I've finaly decided to create my very own blog. I plan to post the little thinks I do from now on, but I'll probably also update it with the thigs I've done in the past.</p>
<p>This blog is &quot;powered&quot; by <a href="https://www.11ty.dev/">eleventy (11ty)</a>, which is a template engine designed for static webpages. I've just started using it, so i'm not an expert yet. So far I've had to solve some interesting problems. I'll name them here and coment on my solution so that new people can get inspired for their own projects:</p>
<p>The photo galery on your screen is kind of a big achievement. 11th comes with its own template language (wich is lauched on build time), but i was not able to find enought documentation to get a simple for loop going. This is why I had to resort to client side javascript to dinamicaly build the galery in the browser from the data that I'm able to extract from 11th.</p>
<p>11ty comes out of the box with a watchdog type server that will detect changes on the source files and will rebuild your files. The problem with it is that it will only update when some specific files were changed (namely .html, .md, .liquid). Specificaly .css were left out. It was a real pain to have to go to other file, save it, and then go to see how the css had changed the web page. The build times are very very fast, so changing of file was 50% of the proces. To fix this I now use some code really similar to the following:</p>
<pre><code>find . -path ./src/node_modules -prune -o -print | entr sh 'npx eleventy';
</code></pre>
<p>I'm not gonna expain what it does, but it is just a line of code, I trust you can handle it. ðŸ˜‰</p>
<p>I also needed to use a server to host localy my page because i'm working inside wsl, but that is maybe to specific and will not apply to your case.</p>
<p>As a conclusion I do recomend eleventy. I've read about other static page generators (jekill, hugo, orgmode and such...) but as far as I know eleventy is better than all of them in build speed (maybe not better than hugo, but I haven't done any testing), wich is an incredible advantage when messing around with css of third party code you may or may not understand.</p>

        </marginer>


    </div>

    <script src="/scripts/Galery.js"></script>


</body>

</html>